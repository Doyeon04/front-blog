{"ast":null,"code":"var _jsxFileName = \"/Users/yunsmac/Desktop/blog/blog-front/src/component/PostDetail.js\",\n    _s = $RefreshSig$();\n\nimport { useParams, useLocation } from \"react-router\";\nimport axios from \"axios\";\nimport { useState, useEffect, useRef } from \"react\";\nimport Header from \"./header/Header\";\nimport styles from \"./PostDetail.module.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Content from \"./content/Content\";\nimport { token, URL } from \"./Api\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst CommentInput = styled.textarea`\n  width: 90%;\n  height: 80px;\n  border: 1px solid #d3d3d3;\n  border-radius: 3px;\n  &:focus {\n    outline: none;\n  }\n  padding: 5px;\n`;\n_c = CommentInput;\nconst ChildReplyInput = styled(CommentInput)`\n  width: 630px;\n  margin: 20px 0px 5px 0px;\n`;\n_c2 = ChildReplyInput;\nconst CommentContainer = styled.div`\n  height: 800px;\n  padding: 50px;\n`;\n_c3 = CommentContainer;\nconst CommentBox = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n`;\n_c4 = CommentBox;\nconst CommentBtn = styled.button`\n  width: 60px;\n  height: 50px;\n  margin-left: 40px;\n  font-size: 12px;\n  border: none;\n  border-radius: 4px;\n  background-color: #b4d8e7;\n  color: white;\n  margin: auto 0;\n`;\nconst CommentsUl = styled.ul`\n  margin: 30px 0px;\n  padding: 0;\n`;\n_c5 = CommentsUl;\nconst CommentsLi = styled.li`\n  width: 100%;\n  padding: 0px 10px;\n  list-style: none;\n`;\n_c6 = CommentsLi;\nconst OneComment = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 0px;\n  border-bottom: 1px solid #d3d3d3;\n`;\n_c7 = OneComment;\nconst OneCommentInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n_c8 = OneCommentInfo;\nconst ReplyBtn = styled(CommentBtn)`\n  width: 60px;\n  height: 30px;\n  margin: auto;\n  margin-left: 10px;\n  &:hover {\n    transform: scale(1.05);\n  }\n  transition: 0.25s;\n`;\n_c9 = ReplyBtn;\nconst ReplyDeleteBox = styled.div``;\n_c10 = ReplyDeleteBox;\nconst ChildReplyForm = styled.form`\n  margin-left: 50px;\n`;\n_c11 = ChildReplyForm;\nconst ChildReplies = styled.ul`\n  padding: 0px;\n`;\n_c12 = ChildReplies;\nconst ChildOneComment = styled(OneComment)`\n  padding: 10px 0px 10px 60px;\n  display: flex;\n  justify-content: space-between;\n`;\n_c13 = ChildOneComment;\n\nfunction PostDetail(props) {\n  _s();\n\n  const {\n    postId\n  } = useParams();\n  const navigate = useNavigate();\n  const [childReply, setChildReply] = useState(false);\n  const [imgUrl, setImgUrl] = useState(\"\");\n  const [clickChildReplyIndex, setClickChildReply] = useState();\n  const [writer, setWriter] = useState();\n  const [postTime, setPostTime] = useState();\n  const [title, setTitle] = useState();\n  const [content, setContent] = useState();\n  const [comments, setComments] = useState([]);\n  const [parentContent, setParentContent] = useState([]);\n  const textRef = useRef();\n  const [replyNum, setReplyNum] = useState(); //window.scrollTo(0, 0);\n  //const token = \"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwiaXNzIjoiYmxvZyBwcm9qZWN0IiwiaWF0IjoxNjQ0MDQyNDcwLCJleHAiOjE2NTI2ODI0NzB9.NCoq6o8qLnWoBqw6ob3gOhVDR87ZGgruPiGeWEhyfOugC3ZNjCFFcF-Dn7xUInFYfNv8XY-yKznCQWqj8qX1rw\";\n\n  const getResponse = () => {\n    console.log(\"postId:\", postId);\n    console.log(`http://localhost:8080/api/posts/${postId}`);\n\n    var axios = require(\"axios\"); // var data = JSON.stringify({});\n\n\n    var config = {\n      method: \"get\",\n      url: `http://localhost:8080/api/posts/${postId}`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      } //   data: data,\n\n    };\n    axios(config).then(function (response) {\n      let result = response.data.replyResponseList;\n      const str = response.data.content.split(\",\");\n      const urls = str[0].split(\" \");\n      const content = str.slice(1).join('');\n      setContent(content);\n      setImgUrl(urls);\n      countReply(response.data.replyResponseList);\n      setWriter(response.data.userInfo.username);\n      setPostTime(response.data.chgDt);\n      setComments(result);\n      setTitle(response.data.title);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const onDelete = event => {\n    event.preventDefault(); //원래 페이지로 돌아가기 */\n\n    console.log(\"삭제버튼누름\");\n\n    var axios = require(\"axios\");\n\n    var data = JSON.stringify(\"string\");\n    var config = {\n      method: \"delete\",\n      url: URL + `posts/${postId}`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      },\n      data: data\n    };\n    axios(config).then(function (response) {\n      console.log(JSON.stringify(response.data));\n      navigate(\"/\");\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  useEffect(() => {\n    getResponse();\n  }, []);\n\n  const countReply = replyList => {\n    const eachChildReply = replyList.map(reply => reply.childReplyDtoList.length);\n    const childReplySum = eachChildReply.reduce(function (accumulator, currentValue) {\n      return accumulator + currentValue;\n    }, 0);\n    setReplyNum(replyList.length + childReplySum);\n  };\n\n  const replySubmit = () => {\n    let text = textRef.current.value;\n    textRef.current.value = \"\"; //textRef의 현재값을 비워줌 input value를 비워줌\n\n    var axios = require(\"axios\");\n\n    var data = JSON.stringify({\n      content: text,\n      parentReplyId: 0,\n      postId: postId\n    }); //댓글 내용과 부모 댓글 아이디를 보냄 얘는 부모 댓글이고 대댓글이 아니니까 parentReplyId는 0으로 지정\n\n    var config = {\n      method: \"post\",\n      url: URL + \"reply\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      },\n      data: data\n    };\n    axios(config).then(function (response) {\n      setComments(response.data.replyResponseList);\n      const replyList = response.data.replyResponseList;\n      countReply(replyList);\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const createChildReply = replyId => {\n    setChildReply(current => !current);\n    setClickChildReply(replyId); //getResponse();\n  };\n\n  const [childReplyTyping, setChildReplyType] = useState();\n\n  const childReplySubmit = e => {\n    // 자식 댓글 등록하기\n    setChildReplyType(\"\");\n    setChildReply(false);\n    e.preventDefault();\n\n    var axios = require(\"axios\");\n\n    var data = JSON.stringify({\n      content: childReplyTyping,\n      parentReplyId: clickChildReplyIndex,\n      postId: postId\n    });\n    var config = {\n      method: \"post\",\n      url: URL + \"reply\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      },\n      data: data\n    };\n    axios(config).then(function (response) {\n      setComments(response.data.replyResponseList);\n      getResponse();\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const deleteChildReply = replyId => {\n    console.log(\"삭제 버튼\", replyId);\n\n    var axios = require(\"axios\");\n\n    var data = JSON.stringify({});\n    var config = {\n      method: \"delete\",\n      url: URL + `reply/${replyId}`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      },\n      data: data\n    };\n    axios(config).then(function (response) {\n      getResponse();\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.postContainer,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.postTitle,\n          children: title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.BtnContainer,\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: writer\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: [postTime === null || postTime === void 0 ? void 0 : postTime.slice(0, 10), \" \", postTime === null || postTime === void 0 ? void 0 : postTime.slice(11, 19)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/modify\",\n            state: {\n              title: title,\n              content: content,\n              postId: postId,\n              imgUrl: imgUrl\n            },\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              className: styles.Btn,\n              children: \"\\uC218\\uC815\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: styles.Btn,\n            onClick: onDelete,\n            children: \"\\uC0AD\\uC81C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: styles.postContent,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.img_container,\n            children: imgUrl && imgUrl.map(url => /*#__PURE__*/_jsxDEV(\"img\", {\n              src: url\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 46\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: content === null || content === void 0 ? void 0 : content.split(\"\\n\").map((line, index) => {\n              return /*#__PURE__*/_jsxDEV(_Fragment, {\n                children: [line, \" \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 28\n                }, this)]\n              }, void 0, true);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 337,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: /*#__PURE__*/_jsxDEV(CommentContainer, {\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: \"#1e6b7b\"\n              },\n              children: [\"\\uB313\\uAE00 \", replyNum]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CommentBox, {\n              children: [/*#__PURE__*/_jsxDEV(CommentInput, {\n                ref: textRef,\n                type: \"text\",\n                wrap: \"hard\",\n                onKeyPress: e => {\n                  if (e.key == \"Enter\" && textRef !== null) {}\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 349,\n                columnNumber: 15\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(ReplyBtn, {\n                  onClick: replySubmit,\n                  children: \"\\uC785\\uB825\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 359,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 358,\n                columnNumber: 15\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(CommentsUl, {\n              children: comments === null || comments === void 0 ? void 0 : comments.map((reply, index) => {\n                var _reply$childReplyDtoL;\n\n                return /*#__PURE__*/_jsxDEV(CommentsLi, {\n                  children: [/*#__PURE__*/_jsxDEV(OneComment, {\n                    children: [/*#__PURE__*/_jsxDEV(OneCommentInfo, {\n                      children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                        style: {\n                          fontWeight: \"bold\"\n                        },\n                        children: reply.parentReplyDto.userInfo.username\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 368,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        children: reply.parentReplyDto.content\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 371,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                        style: {\n                          marginTop: 10,\n                          fontSize: 12,\n                          color: \"#d3d3d3\"\n                        },\n                        children: [reply.parentReplyDto.chgDt.slice(0, 10), \" \", reply.parentReplyDto.chgDt.slice(11, 19)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 372,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 367,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(ReplyDeleteBox, {\n                      children: [/*#__PURE__*/_jsxDEV(ReplyBtn, {\n                        id: reply.parentReplyDto.replyId,\n                        onClick: e => createChildReply(reply.parentReplyDto.replyId),\n                        children: \"\\uB2F5\\uAE00\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 384,\n                        columnNumber: 23\n                      }, this), /*#__PURE__*/_jsxDEV(ReplyBtn, {\n                        onClick: () => deleteChildReply(reply.parentReplyDto.replyId),\n                        children: \"\\uC0AD\\uC81C\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 23\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 383,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(ChildReplyForm, {\n                    onSubmit: childReplySubmit,\n                    children: clickChildReplyIndex === reply.parentReplyDto.replyId && childReply ? /*#__PURE__*/_jsxDEV(\"div\", {\n                      children: [/*#__PURE__*/_jsxDEV(ChildReplyInput, {\n                        type: \"text\",\n                        onChange: e => {\n                          setChildReplyType(e.target.value);\n                        }\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 406,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(ReplyBtn, {\n                          style: {\n                            float: \"left\",\n                            marginLeft: 0\n                          },\n                          children: [\" \", \"\\uB4F1\\uB85D\"]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 413,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 412,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 405,\n                      columnNumber: 23\n                    }, this) : null\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 402,\n                    columnNumber: 19\n                  }, this), /*#__PURE__*/_jsxDEV(ChildReplies, {\n                    children: (_reply$childReplyDtoL = reply.childReplyDtoList) === null || _reply$childReplyDtoL === void 0 ? void 0 : _reply$childReplyDtoL.map(child => /*#__PURE__*/_jsxDEV(ChildOneComment, {\n                      children: [/*#__PURE__*/_jsxDEV(OneCommentInfo, {\n                        children: [/*#__PURE__*/_jsxDEV(\"h5\", {\n                          style: {\n                            fontWeight: \"bold\"\n                          },\n                          children: child.userInfo.username\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 425,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          children: child.content\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 428,\n                          columnNumber: 27\n                        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                          style: {\n                            marginTop: 10,\n                            fontSize: 12,\n                            color: \"#d3d3d3\"\n                          },\n                          children: [child.chgDt.slice(0, 10), \" \", child.chgDt.slice(11, 19)]\n                        }, void 0, true, {\n                          fileName: _jsxFileName,\n                          lineNumber: 429,\n                          columnNumber: 27\n                        }, this)]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 424,\n                        columnNumber: 25\n                      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                        children: /*#__PURE__*/_jsxDEV(ReplyBtn, {\n                          style: {},\n                          onClick: () => deleteChildReply(child.replyId),\n                          children: \"\\uC0AD\\uC81C\"\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 441,\n                          columnNumber: 27\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 440,\n                        columnNumber: 25\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 423,\n                      columnNumber: 23\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 421,\n                    columnNumber: 19\n                  }, this)]\n                }, reply.parentReplyDto.replyId, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 17\n                }, this);\n              })\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 363,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 310,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 306,\n    columnNumber: 5\n  }, this);\n}\n\n_s(PostDetail, \"ZojAEda0YF8dxSjyAxpaOaXp014=\", false, function () {\n  return [useParams, useNavigate];\n});\n\n_c14 = PostDetail;\nexport default PostDetail;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14;\n\n$RefreshReg$(_c, \"CommentInput\");\n$RefreshReg$(_c2, \"ChildReplyInput\");\n$RefreshReg$(_c3, \"CommentContainer\");\n$RefreshReg$(_c4, \"CommentBox\");\n$RefreshReg$(_c5, \"CommentsUl\");\n$RefreshReg$(_c6, \"CommentsLi\");\n$RefreshReg$(_c7, \"OneComment\");\n$RefreshReg$(_c8, \"OneCommentInfo\");\n$RefreshReg$(_c9, \"ReplyBtn\");\n$RefreshReg$(_c10, \"ReplyDeleteBox\");\n$RefreshReg$(_c11, \"ChildReplyForm\");\n$RefreshReg$(_c12, \"ChildReplies\");\n$RefreshReg$(_c13, \"ChildOneComment\");\n$RefreshReg$(_c14, \"PostDetail\");","map":{"version":3,"sources":["/Users/yunsmac/Desktop/blog/blog-front/src/component/PostDetail.js"],"names":["useParams","useLocation","axios","useState","useEffect","useRef","Header","styles","Link","useNavigate","Content","token","URL","styled","CommentInput","textarea","ChildReplyInput","CommentContainer","div","CommentBox","CommentBtn","button","CommentsUl","ul","CommentsLi","li","OneComment","OneCommentInfo","ReplyBtn","ReplyDeleteBox","ChildReplyForm","form","ChildReplies","ChildOneComment","PostDetail","props","postId","navigate","childReply","setChildReply","imgUrl","setImgUrl","clickChildReplyIndex","setClickChildReply","writer","setWriter","postTime","setPostTime","title","setTitle","content","setContent","comments","setComments","parentContent","setParentContent","textRef","replyNum","setReplyNum","getResponse","console","log","require","config","method","url","headers","Authorization","then","response","result","data","replyResponseList","str","split","urls","slice","join","countReply","userInfo","username","chgDt","catch","error","onDelete","event","preventDefault","JSON","stringify","replyList","eachChildReply","map","reply","childReplyDtoList","length","childReplySum","reduce","accumulator","currentValue","replySubmit","text","current","value","parentReplyId","createChildReply","replyId","childReplyTyping","setChildReplyType","childReplySubmit","e","deleteChildReply","container","postContainer","postTitle","BtnContainer","Btn","postContent","img_container","line","index","color","key","fontWeight","parentReplyDto","marginTop","fontSize","target","float","marginLeft","child"],"mappings":"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","sourcesContent":["import { useParams, useLocation } from \"react-router\";\n\nimport axios from \"axios\";\nimport { useState, useEffect, useRef } from \"react\";\nimport Header from \"./header/Header\";\nimport styles from \"./PostDetail.module.css\";\nimport { Link, useNavigate } from \"react-router-dom\";\nimport Content from \"./content/Content\";\nimport { token, URL } from \"./Api\";\nimport styled from \"styled-components\";\n\nconst CommentInput = styled.textarea`\n  width: 90%;\n  height: 80px;\n  border: 1px solid #d3d3d3;\n  border-radius: 3px;\n  &:focus {\n    outline: none;\n  }\n  padding: 5px;\n`;\n\nconst ChildReplyInput = styled(CommentInput)`\n  width: 630px;\n  margin: 20px 0px 5px 0px;\n`;\n\nconst CommentContainer = styled.div`\n  height: 800px;\n  padding: 50px;\n`;\n\nconst CommentBox = styled.div`\n  display: flex;\n  width: 100%;\n  justify-content: space-between;\n`;\n\nconst CommentBtn = styled.button`\n  width: 60px;\n  height: 50px;\n  margin-left: 40px;\n  font-size: 12px;\n  border: none;\n  border-radius: 4px;\n  background-color: #b4d8e7;\n  color: white;\n  margin: auto 0;\n`;\n\nconst CommentsUl = styled.ul`\n  margin: 30px 0px;\n  padding: 0;\n`;\n\nconst CommentsLi = styled.li`\n  width: 100%;\n  padding: 0px 10px;\n  list-style: none;\n`;\n\nconst OneComment = styled.div`\n  width: 100%;\n  display: flex;\n  justify-content: space-between;\n  padding: 10px 0px;\n  border-bottom: 1px solid #d3d3d3;\n`;\n\nconst OneCommentInfo = styled.div`\n  display: flex;\n  flex-direction: column;\n`;\n\nconst ReplyBtn = styled(CommentBtn)`\n  width: 60px;\n  height: 30px;\n  margin: auto;\n  margin-left: 10px;\n  &:hover {\n    transform: scale(1.05);\n  }\n  transition: 0.25s;\n`;\n\nconst ReplyDeleteBox = styled.div``;\n\nconst ChildReplyForm = styled.form`\n  margin-left: 50px;\n`;\n\nconst ChildReplies = styled.ul`\n  padding: 0px;\n`;\n\nconst ChildOneComment = styled(OneComment)`\n  padding: 10px 0px 10px 60px;\n  display: flex;\n  justify-content: space-between;\n`;\n\nfunction PostDetail(props) {\n  const { postId } = useParams();\n  const navigate = useNavigate();\n  const [childReply, setChildReply] = useState(false);\n  const [imgUrl, setImgUrl] = useState(\"\");\n  const [clickChildReplyIndex, setClickChildReply] = useState();\n  const [writer, setWriter] = useState();\n  const [postTime, setPostTime] = useState();\n  const [title, setTitle] = useState();\n  const [content, setContent] = useState();\n  const [comments, setComments] = useState([]);\n  const [parentContent, setParentContent] = useState([]);\n  const textRef = useRef();\n  const [replyNum, setReplyNum] = useState();\n\n  //window.scrollTo(0, 0);\n\n  //const token = \"eyJhbGciOiJIUzUxMiJ9.eyJzdWIiOiIxIiwiaXNzIjoiYmxvZyBwcm9qZWN0IiwiaWF0IjoxNjQ0MDQyNDcwLCJleHAiOjE2NTI2ODI0NzB9.NCoq6o8qLnWoBqw6ob3gOhVDR87ZGgruPiGeWEhyfOugC3ZNjCFFcF-Dn7xUInFYfNv8XY-yKznCQWqj8qX1rw\";\n\n  const getResponse = () => {\n    console.log(\"postId:\", postId);\n    console.log(`http://localhost:8080/api/posts/${postId}`);\n\n    var axios = require(\"axios\");\n    // var data = JSON.stringify({});\n\n    var config = {\n      method: \"get\",\n      url: `http://localhost:8080/api/posts/${postId}`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n      //   data: data,\n    };\n\n    axios(config)\n      .then(function (response) {\n        let result = response.data.replyResponseList;\n        const str = response.data.content.split(\",\");\n        const urls = str[0].split(\" \");\n        const content = str.slice(1).join('')\n        \n        setContent(content);\n        setImgUrl(urls);\n\n        countReply(response.data.replyResponseList);\n        setWriter(response.data.userInfo.username);\n        setPostTime(response.data.chgDt);\n        setComments(result);\n        setTitle(response.data.title);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  const onDelete = (event) => {\n    event.preventDefault();\n\n    //원래 페이지로 돌아가기 */\n    console.log(\"삭제버튼누름\");\n    var axios = require(\"axios\");\n    var data = JSON.stringify(\"string\");\n\n    var config = {\n      method: \"delete\",\n      url: URL + `posts/${postId}`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n      data: data,\n    };\n\n    axios(config)\n      .then(function (response) {\n        console.log(JSON.stringify(response.data));\n        navigate(\"/\");\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  useEffect(() => {\n    getResponse();\n  }, []);\n\n  const countReply = (replyList) => {\n    const eachChildReply = replyList.map(\n      (reply) => reply.childReplyDtoList.length\n    );\n\n    const childReplySum = eachChildReply.reduce(function (\n      accumulator,\n      currentValue\n    ) {\n      return accumulator + currentValue;\n    },\n    0);\n\n    setReplyNum(replyList.length + childReplySum);\n  };\n  const replySubmit = () => {\n    let text = textRef.current.value;\n    textRef.current.value = \"\"; //textRef의 현재값을 비워줌 input value를 비워줌\n\n    var axios = require(\"axios\");\n    var data = JSON.stringify({\n      content: text,\n      parentReplyId: 0,\n      postId: postId,\n    }); //댓글 내용과 부모 댓글 아이디를 보냄 얘는 부모 댓글이고 대댓글이 아니니까 parentReplyId는 0으로 지정\n\n    var config = {\n      method: \"post\",\n      url: URL + \"reply\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n      data: data,\n    };\n\n    axios(config)\n      .then(function (response) {\n        setComments(response.data.replyResponseList);\n\n        const replyList = response.data.replyResponseList;\n\n        countReply(replyList);\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n  const createChildReply = (replyId) => {\n    setChildReply((current) => !current);\n    setClickChildReply(replyId);\n    //getResponse();\n  };\n\n  const [childReplyTyping, setChildReplyType] = useState();\n\n  const childReplySubmit = (e) => {\n    // 자식 댓글 등록하기\n    setChildReplyType(\"\");\n    setChildReply(false);\n\n    e.preventDefault();\n\n    var axios = require(\"axios\");\n    var data = JSON.stringify({\n      content: childReplyTyping,\n      parentReplyId: clickChildReplyIndex,\n      postId: postId,\n    });\n\n    var config = {\n      method: \"post\",\n      url: URL + \"reply\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n      data: data,\n    };\n\n    axios(config)\n      .then(function (response) {\n        setComments(response.data.replyResponseList);\n        getResponse();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  const deleteChildReply = (replyId) => {\n    console.log(\"삭제 버튼\", replyId);\n    var axios = require(\"axios\");\n    var data = JSON.stringify({});\n\n    var config = {\n      method: \"delete\",\n      url: URL + `reply/${replyId}`,\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n      data: data,\n    };\n\n    axios(config)\n      .then(function (response) {\n        getResponse();\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  return (\n    <div>\n      <Header />\n      <div className={styles.container}>\n        <div></div>\n        <div className={styles.postContainer}>\n          <div className={styles.postTitle}>{title}</div>\n          <div className={styles.BtnContainer}>\n            <span>{writer}</span>\n            <span>\n              {postTime?.slice(0, 10)} {postTime?.slice(11, 19)}\n            </span>\n            <Link\n              to={\"/modify\"}\n              state={{\n                title: title,\n                content: content,\n                postId: postId,\n                imgUrl: imgUrl,\n              }}\n            >\n              <button className={styles.Btn}>수정</button>\n            </Link>\n\n            <button className={styles.Btn} onClick={onDelete}>\n              삭제\n            </button>\n          </div>\n          <div className={styles.postContent}>\n            <div className={styles.img_container}>\n              {imgUrl && imgUrl.map((url) => <img src={url} />)}\n            </div>\n            <p>\n            {content?.split(\"\\n\").map((line, index) => {\n              return (\n                  <>{line} <br /></>\n              );\n            })}\n            </p>\n          </div>\n            <div>\n          <CommentContainer>\n            <span style={{ color: \"#1e6b7b\" }}>댓글 {replyNum}</span>\n            <CommentBox>\n              <CommentInput\n                ref={textRef}\n                type=\"text\"\n                wrap=\"hard\"\n                onKeyPress={(e) => {\n                  if (e.key == \"Enter\" && textRef !== null) {\n                  }\n                }}\n              />\n              <div>\n                <ReplyBtn onClick={replySubmit}>입력</ReplyBtn>\n              </div>\n            </CommentBox>\n\n            <CommentsUl>\n              {comments?.map((reply, index) => (\n                <CommentsLi key={reply.parentReplyDto.replyId}>\n                  <OneComment>\n                    <OneCommentInfo>\n                      <h5 style={{ fontWeight: \"bold\" }}>\n                        {reply.parentReplyDto.userInfo.username}\n                      </h5>\n                      <span>{reply.parentReplyDto.content}</span>\n                      <span\n                        style={{\n                          marginTop: 10,\n                          fontSize: 12,\n                          color: \"#d3d3d3\",\n                        }}\n                      >\n                        {reply.parentReplyDto.chgDt.slice(0, 10)}{\" \"}\n                        {reply.parentReplyDto.chgDt.slice(11, 19)}\n                      </span>\n                    </OneCommentInfo>\n                    <ReplyDeleteBox>\n                      <ReplyBtn\n                        id={reply.parentReplyDto.replyId}\n                        onClick={(e) =>\n                          createChildReply(reply.parentReplyDto.replyId)\n                        }\n                      >\n                        답글\n                      </ReplyBtn>\n                      <ReplyBtn\n                        onClick={() =>\n                          deleteChildReply(reply.parentReplyDto.replyId)\n                        }\n                      >\n                        삭제\n                      </ReplyBtn>\n                    </ReplyDeleteBox>\n                  </OneComment>\n\n                  <ChildReplyForm onSubmit={childReplySubmit}>\n                    {clickChildReplyIndex === reply.parentReplyDto.replyId &&\n                    childReply ? (\n                      <div>\n                        <ChildReplyInput\n                          type=\"text\"\n                          onChange={(e) => {\n                            setChildReplyType(e.target.value);\n                          }}\n                        />\n                        <div>\n                          <ReplyBtn style={{ float: \"left\", marginLeft: 0 }}>\n                            {\" \"}\n                            등록\n                          </ReplyBtn>\n                        </div>\n                      </div>\n                    ) : null}\n                  </ChildReplyForm>\n                  <ChildReplies>\n                    {reply.childReplyDtoList?.map((child) => (\n                      <ChildOneComment>\n                        <OneCommentInfo>\n                          <h5 style={{ fontWeight: \"bold\" }}>\n                            {child.userInfo.username}\n                          </h5>\n                          <span>{child.content}</span>\n                          <span\n                            style={{\n                              marginTop: 10,\n                              fontSize: 12,\n                              color: \"#d3d3d3\",\n                            }}\n                          >\n                            {child.chgDt.slice(0, 10)}{\" \"}\n                            {child.chgDt.slice(11, 19)}\n                          </span>\n                        </OneCommentInfo>\n                        <div>\n                          <ReplyBtn\n                            style={{}}\n                            onClick={() => deleteChildReply(child.replyId)}\n                          >\n                            삭제\n                          </ReplyBtn>\n                        </div>\n                      </ChildOneComment>\n                    ))}\n                  </ChildReplies>\n                </CommentsLi>\n              ))}\n            </CommentsUl>\n          </CommentContainer>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default PostDetail;\n"]},"metadata":{},"sourceType":"module"}