{"ast":null,"code":"var _jsxFileName = \"/Users/yunsmac/Desktop/blog/src/component/newContent/NewContent.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport styles from \"./NewContent.module.css\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Header from \"../header/Header\";\nimport axios from \"axios\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { token } from \"../Api\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst NewContent = props => {\n  _s();\n\n  //const token = localStorage.getItem(\"token\");\n  let navigate = useNavigate();\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [file, setFile] = useState('');\n\n  const onChangeTitle = event => setTitle(event.target.value);\n\n  const onChangeContent = event => setContent(event.target.value);\n\n  console.log(\"title:\", title);\n  console.log(\"content:\", content);\n\n  const submit = () => {\n    var axios = require(\"axios\");\n\n    var data = JSON.stringify({\n      content: content,\n      title: title\n    });\n    var config = {\n      method: \"post\",\n      url: \"http://localhost:8080/api/posts\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token\n      },\n      data: data\n    };\n    axios(config).then(function (response) {\n      console.log(JSON.stringify(response.data));\n      navigate(\"/\");\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  const saveFileImage = e => {\n    console.log(e.target.files[0]);\n    const item = e.target.files[0];\n    console.log(item);\n\n    let axios = require('axios');\n\n    var FormData = require('form-data');\n\n    var fs = require('fs');\n\n    var data = new FormData();\n    data.append('filename', fs.createReadStream('/Users/yunsmac/Downloads/KakaoTalk_Photo_2022-02-06-15-14-50.png'));\n    var config = {\n      method: 'post',\n      url: 'http://localhost:8080/api/img/s3/posts/upload',\n      headers: { ...data.getHeaders()\n      },\n      data: data\n    };\n    axios(config).then(function (response) {\n      console.log(JSON.stringify(response.data));\n      console.log(response);\n      console.log('success');\n    }).catch(function (error) {\n      console.log(error);\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.container,\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Form, {\n      className: styles.Form,\n      children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"exampleForm.ControlInput1\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\uC81C\\uBAA9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          type: \"text\",\n          placeholder: \"name@example.com\",\n          onChange: onChangeTitle\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n        className: \"mb-3\",\n        controlId: \"exampleForm.ControlTextarea1\",\n        children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n          children: \"\\uB0B4\\uC6A9\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n          onChange: onChangeContent,\n          className: \"form-control\",\n          as: \"textarea\",\n          placeholder: \"example\",\n          rows: 15,\n          style: {\n            outLine: \"none\",\n            color: \"red\",\n            border: \"0\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          onChange: saveFileImage,\n          type: \"file\",\n          id: \"file\",\n          accept: \"image/*\",\n          name: \"file\",\n          multiple: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 9\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      onClick: submit,\n      children: \"\\uB4F1\\uB85D\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\n\n_s(NewContent, \"57PlwUX0ANudtkh0WZX9zv/T2j0=\", false, function () {\n  return [useNavigate];\n});\n\n_c = NewContent;\nexport default NewContent;\n\nvar _c;\n\n$RefreshReg$(_c, \"NewContent\");","map":{"version":3,"sources":["/Users/yunsmac/Desktop/blog/src/component/newContent/NewContent.js"],"names":["React","styles","Button","Form","Header","axios","useNavigate","Link","useState","useEffect","token","NewContent","props","navigate","title","setTitle","content","setContent","file","setFile","onChangeTitle","event","target","value","onChangeContent","console","log","submit","require","data","JSON","stringify","config","method","url","headers","Authorization","then","response","catch","error","saveFileImage","e","files","item","FormData","fs","append","createReadStream","getHeaders","container","outLine","color","border"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport styles from \"./NewContent.module.css\";\nimport Button from \"react-bootstrap/Button\";\nimport Form from \"react-bootstrap/Form\";\nimport Header from \"../header/Header\";\nimport axios from \"axios\";\nimport { useNavigate, Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\nimport { token } from \"../Api\";\n\nconst NewContent = (props) => {\n  //const token = localStorage.getItem(\"token\");\n  let navigate = useNavigate();\n\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [file, setFile] = useState('');\n\n  const onChangeTitle = (event) => setTitle(event.target.value);\n  const onChangeContent = (event) => setContent(event.target.value);\n\n  console.log(\"title:\", title);\n  console.log(\"content:\", content);\n\n  const submit = () => {\n    var axios = require(\"axios\");\n    var data = JSON.stringify({\n      content: content,\n      title: title,\n    });\n\n    var config = {\n      method: \"post\",\n      url: \"http://localhost:8080/api/posts\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Authorization: \"Bearer \" + token,\n      },\n      data: data,\n    };\n\n    axios(config)\n      .then(function (response) {\n        console.log(JSON.stringify(response.data));\n        navigate(\"/\");\n      })\n      .catch(function (error) {\n        console.log(error);\n      });\n  };\n\n  const saveFileImage = (e) =>{\n    console.log(e.target.files[0])\n    const item = e.target.files[0];\n    console.log(item)\n\n    let axios = require('axios');\nvar FormData = require('form-data');\nvar fs = require('fs');\nvar data = new FormData();\ndata.append('filename', fs.createReadStream('/Users/yunsmac/Downloads/KakaoTalk_Photo_2022-02-06-15-14-50.png'));\n\nvar config = {\n  method: 'post',\n  url: 'http://localhost:8080/api/img/s3/posts/upload',\n  headers: { \n    ...data.getHeaders()\n  },\n  data : data\n};\n\naxios(config)\n.then(function (response) {\n  console.log(JSON.stringify(response.data));\n  console.log(response)\n  console.log('success')\n})\n.catch(function (error) {\n  console.log(error);\n\n});\n  }\n\n  return (\n    <div className={styles.container}>\n      <Header />\n      <Form className={styles.Form}>\n        <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlInput1\">\n          <Form.Label>제목</Form.Label>\n          <Form.Control\n            type=\"text\"\n            placeholder=\"name@example.com\"\n            onChange={onChangeTitle}\n          />\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"exampleForm.ControlTextarea1\">\n          <Form.Label>내용</Form.Label>\n          <Form.Control\n            onChange={onChangeContent}\n            className=\"form-control\"\n            as=\"textarea\"\n            placeholder=\"example\"\n            rows={15}\n            style={{\n              outLine: \"none\",\n              color: \"red\",\n              border: \"0\",\n            }}\n          />\n        </Form.Group>\n        <div>\n        <input\n          onChange = {saveFileImage}\n            type=\"file\"\n            id=\"file\"\n            accept=\"image/*\"\n            name=\"file\"\n            multiple\n          />\n           </div>\n      </Form>\n\n      <Button onClick={submit}>등록</Button>\n    </div>\n  );\n};\n\nexport default NewContent;\n"]},"metadata":{},"sourceType":"module"}